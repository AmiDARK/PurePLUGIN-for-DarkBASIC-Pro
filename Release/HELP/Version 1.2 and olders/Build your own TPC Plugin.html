<html><title>PurePLUGIN - How to build your own TPC Plugin.</title>
<body background="GFX/background.jpg" bgcolor="#FFFFFF">
<div align="center"> 
  <p><img src="GFX/PurePLUGIN.jpg" width="650" height="192"><br>
    <br>
    <br>
    How to build your own TPC Plugin with PurePLUGIN.<br>
    <br>
    You'll have to follow this procedure to be sure that your plugin may work 
    correctly:<br>
    <br>
    <br>
    <b>1. TPC Project Setup:<br>
    </b><br>
    a. Create a new directory inside the &quot;PurePLUGIN Development&quot; directory<br>
    b. Copy files from &quot;PurePLUGIN Development\PurePLUGIN-SampleDLL&quot; 
    inside your new project directory.<br>
    <br>
    <br>
    <b>2. Create the DLL itself:</b><br>
    Now you'll have to create your new commands.<br>
    We advice you to separate various command set in PB include files like shown 
    in the DLL sample.<br>
    You'll have to use <b>ProcedureCDLL</b> for each procedure you want to be 
    exposed and that will be used to create a new command/function.<br>
    You'll have to use <b>Procedure</b> for each internal procedure that will 
    not be exposed and that will not be used to create a new command/function.<br>
    <b><font color="#990000">!!! WARNING !!!<br>
    Don't forget to insert your ID codes in the AConstructor00YAXXZ procedure 
    to allow the plugin to be initialized by PurePLUGIN.dll .</font></b><br>
    <br>
    You can get a more detailled free tutorial on how to create DLL using PureBASIC 
    on an old TheGameCreators newsletter.<br>
    Tutorial is available here:<br>
    <a href="http://www.thegamecreators.com/data/newsletter/newsletter_issue_22.html#17">http://www.thegamecreators.com/data/newsletter/newsletter_issue_22.html#17</a> 
    <br>
    <br>
    <b>3. Add the string table in your DLL to create the DarkBASIC Professional 
    new commands/functions sets.</b><br>
    Simply open a resource editor like Resource hacker and follow the explanations 
    given <a href="String%20Table%20Edition.html">here</a>.<br>
    Save changes to your DLL to be sure that the String Table are integrated in 
    to create commands/functions.<br>
    If you need more resources, simply create new ones using the explanations 
    given <a href="Create%20new%20empty%20resources%20files.html">here</a>.<br>
    <br>
    <b>4. Create the Constructor procedure.</b><br>
    PureBASIC can't create decorated functions/procedure. That's why we'll have 
    to do changes ourselves.<br>
    DarkBASIC Professional can only handle decorated <br>
    a. Open an HEX EDITOR(like <a href="http://www.chmaas.handshake.de/delphi/freeware/xvi32/xvi32.htm">XVI32</a> 
    used for this sample).<br>
    .b open your DLL with menu FILE / OPEN FILE.<br>
    c. open menu SEARCH / REPLACE like shown in the picture below:<br>
    <img src="GFX/XVI32_ConstructorP1.jpg" width="761" height="389"><br>
    In the replace window, we'll have to make the constructor function use decorated 
    form.<br>
    You'll have to choose the string to change : AConstructor00YAXXZ<br>
    Replace with : ?Constructor@@YAXXZ<br>
    Like shown in the picture below:<br>
    <img src="GFX/XVI32_ConstructorP2.jpg" width="766" height="435"> <br>
    Once these strings are entered, click on &quot;OK&quot;.<br>
    The HEX EDITOR will make the changes and you constructor function is now :<br>
    ?Constructor@@YAXXZ<br>
    It can now be used internally by DarkBASIC Professional to initialize your 
    plugin.<br>
    <br>
    <b>5. You can now copy your TPC DLL directly inside the DarkBASIC Professional/Compiler/Plugins-User 
    directory.</b><br>
    Your plugin is now ready to be used inside DarkBASIC Professional to create 
    new commands/functions sets.<br>
  </p>
</div>
</html>